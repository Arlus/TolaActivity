{% load staticfiles %}
<!---BAR GRAPH template for custom charts
required:
* dataset[] with label and iterable data[] for each chart item (up to 2)
  for side by side or stacked
* elementID for placement on dashboard (which concatenates the variable representing the placement id of the element onto
* legendID for placement of legend for graph
* tooltip to append to tool tip i.e. (USD, KM, LBS, etc.)-->

{% block content %}
<canvas id='tolaBarChart'> </canvas>
{% endblock %}

<script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/0.2.0/Chart.min.js" type="text/javascript"></script>
<script>
    //render bar_chart
    var tolaOptions = { 
            maintainAspectRatio: false, 
            responsive: true,
            scaleOverlay : false,
            scaleSteps : 10,
            scaleStepWidth : 10,
            scaleStartValue : 0,
            scaleLineColor : "rgba(0,0,0,.25)",
            scaleLineWidth : 1,
            scaleShowLabels : true,
            scaleLabel : "<%=value%>",
            scaleFontFamily : "'Lato'",
            scaleFontSize : 12,
            scaleFontStyle : "800",
            scaleFontColor : "#222",
            scaleShowGridLines : true,
            scaleGridLineColor : "rgba(0,0,0,.1)",
            scaleGridLineWidth : 1,
            bezierCurve : true,
            pointDot : true,
            pointDotRadius : 5,
            pointDotStrokeWidth : 1,
            datasetStroke : true,
            datasetStrokeWidth : 1,
            datasetFill : true,
            animation : true,
            animationSteps : 120,
            animationEasing : "easeOutQuart",
            onAnimationComplete : null,
            //tooltip
            multiTooltipTemplate: "<%= value + ' USD' %>",
            };
    var barData = {
            labels: ['1', '5', '10'],
            datasets: [{
                    label: "Placeholder table data",
                    fillColor: "rgba(220,220,220,0.2)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(220,220,220,1)",
                    data: [{{ tolaTableData }}]
                },
        // labels: []//[{{bar_graph_data}}],
        // datasets: [
            {
                label: "Budgeted", //Where should these labels come from?
                fillColor: "rgba(220,220,220,0.5)",
                strokeColor: "rgba(220,220,220,0.8)",
                highlightFill: "rgba(220,220,220,0.75)",
                highlightStroke: "rgba(220,220,220,1)",
                data: [1,2,3]
            }
            // {
            //     label: "Actuals", //Where should labels come from?
            //     fillColor: "rgba(151,187,205,0.5)",
            //     strokeColor: "rgba(151,187,205,0.8)",
            //     highlightFill: "rgba(151,187,205,0.75)",
            //     highlightStroke: "rgba(151,187,205,1)",
            //     data: {{bar_graph_data.actuals}}
            // }
        ]
    };
    // var bar_graph_id = 1//Math.floor(Math.random() * (1000000000 - 5 + 1)) + 5
    // var barLegendID = 'tolaBarlegend1'+ bar_graph_uuid
    // document.getElementById(barLegendID).innerHTML = tolaBarGraph.generateLegend();
    var barElementID = 'tolaBarGraph' //+ bar_graph_id
    var ctx = document.getElementById('tolaBarChart').getContext("2d");
    var tolaBarGraph = new Chart(ctx).Bar(barData, tolaOptions);
</script>